<analysis>
    <formatversion>1.0</formatversion>
    <name>my analysis</name>
    <description>Demo analysis</description>
    <author>Laurent Jourdren</author>

    <steps>

        <!-- Filter reads -->
        <!--step skip="false">
                <name>filterreads</name>
                <parameters>
                        <parameter>
                                <name>trim.length.threshold</name>
                                <value>11</value>
                        </parameter>
                        <parameter>
                                <name>quality.threshold</name>
                                <value>12</value>
                        </parameter>
                </parameters>
        </step-->

        <!-- Map reads -->
        <!--step skip="false">
                <name>mapreads</name>
                <parameters>
                        <parameter>
                                <name>mapper</name>
                                <value>bowtie</value>
                        </parameter>
                        <parameter>
                                <name>mapperarguments</name>
				WARNING: If enable this step, DON'T
				FORGET to add double '-' before the bowtie best argument 
                                <value>best -k 2</value>
                        </parameter>                        
                </parameters>
        </step-->

        <!-- SAM filter -->
        <!--step skip="false">
                <name>filtersam</name>
                <parameters>
                        <parameter>
                                <name>removeunmapped</name>
                                <value></value>
                        </parameter>
                        <parameter>
                                <name>removemultimatches</name>
                                <value></value>
                        </parameter>
                </parameters>
        </step--> 

	<!-- Filter reads, Map and filter SAM in one step in hadoop mode-->
	<step skip="false">
		<name>filterandmap</name>
		<parameters>
			<parameter>
				<name>trim.length.threshold</name>
				<value>11</value>
			</parameter>
			<parameter>
				<name>quality.threshold</name>
				<value>12</value>
			</parameter>
			<parameter>
				<name>mapper</name>
				<value>bowtie</value>
			</parameter>
			<parameter>
                <name>mapper.arguments</name>
                <value>-k 2 --best</value>
            </parameter>
			<parameter>
                <name>removeunmapped</name>
                <value></value>
            </parameter>
            <parameter>
                <name>removemultimatches</name>
                <value></value>
            </parameter>
		</parameters>
	</step>


        <!-- Filter samples -->
        <step skip="false">
                <name>filterSamples</name>
                <parameters>
                        <parameter>
                                <name>threshold</name>
                                <value>0</value>
                        </parameter>
                </parameters>
        </step>

        <!-- Expression -->
        <step skip="false">
                <name>expression</name>
                <parameters>
                        <parameter>
                                <name>counter</name>
                                <value>htseq-count</value>
                        </parameter>
                        <parameter>
                                <name>genomictype</name>
                                <value>gene</value>
                        </parameter>
                        <parameter>
                                <name>attributeid</name>
                                <value>ID</value>
                        </parameter>
                        <parameter>
                                <name>stranded</name>
                                <value>no</value>
                        </parameter>
                        <parameter>
                                <name>overlapmode</name>
                                <value>union</value>
                        </parameter>
                        <parameter>
                                <name>removeambiguouscases</name>
                                <value>false</value>
                        </parameter>                
                </parameters>
        </step>

        <!-- Normalization -->
        <!--step skip="false">
                <name>normalization</name>
                <parameters/>
        </step-->

        <!-- Diffana -->
        <!--step skip="false">
                <name>diffana</name>
                
                <parameters>
                        <parameter>
                                <name>disp.est.method</name>
                                <value>pooled</value>
                        </parameter>
                        <parameter>                        
                                <name>disp.est.sharing.mode</name>
                                <value>maximum</value>
                        </parameter>                                 
                                <name>disp.est.fit.type</name>
                                <value>local</value>
                        </parameter>
            <parameters/>
        </step-->


    </steps>

    <globals>
      
	<!-- Temporary directory to use in local mode -->
        <parameter>
	        <name>main.tmp.dir</name>
	        <value>/tmp</value>
        </parameter>


	<!-- Amazon MapReduce cluster configuration -->
	<parameter>
	        <name>aws.mapreduce.endpoint</name>
	        <value>eu-west-1.elasticmapreduce.amazonaws.com</value>
        </parameter>
	<parameter>
	        <name>aws.mapreduce.hadoop.version</name>
	        <value>1.0.3</value>
        </parameter>	
	<parameter>
	        <name>aws.mapreduce.instances.type</name>
	        <value>m1.xlarge</value>
        </parameter>
	<parameter>
	        <name>aws.mapreduce.instances.number</name>
	        <value>5</value>
        </parameter>

    </globals>

</analysis>
